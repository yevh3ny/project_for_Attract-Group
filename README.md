Чтобы развернуть приложение Docker, состоящее из компонентов NGINX и PHP, с дополнительным использованием режима swarm,с учетом запрошеной Вами конфигурацией ограничений и настройкой ведения журнала, я выполнил следующие шаги: 

1. Настроил структуру проекта 

project_for_Attract_Group/

├── nginx/

│   └── nginx.conf

├── php/

│   └── Dockerfile

└── docker-compose.yml

2. Настроил NGINX, точнее создал в nginx каталоге файл nginx.conf. 

3. Создал Dockerfile для PHP в php каталоге для создания контерйнера PHP. Я использовал официальный образ PHP в качестве основы и добавил парочку зависимостей.

4. Настроил файл docker-compose.yml для определения и настройки служб.

5. Развернул приложение. Так как мы хотим использовать режим swarm в Docker'e, выполним следующую команду перед деплоем - docker swarm init

Итого получились такие команды:
mkdir project - Создал папку "Проект"
cd project
mkdir nginx php
cd nginx
nano nginx.config - сюда прописал настройка nginx'a
cd ../php
nano Dockerfile - сюда докерфайл для PHP
cd ..
nano docker-compose.yml - сюда компановку
docker swarm init - инициировал режим swarm
docker stack deploy -c docker-compose.yml <имя стека> - так как нам необходимо работать в режиме swarm команда "docker-compose up -d" нам не подходит, вместо нее используем stack deploy
 6. Также сразу укажу, что необходимо чтобы организовать связь между контейнерами в режиме swarm:

docker network create --driver overlay <имя-сети> - создать сеть
nano docker-compose.yml - дописать сеть в файл настройки 
docker stack deploy -c docker-compose.yml <имя стека> - перезапустить обновленный стек

С помощью этих добавленых шагов контейнеры будут развернуты в оверлейной сети, что позволит им взаимодействовать друг с другом, используя свои служебные имена в качестве DNS-разрешимых имен хостов. Например, nginx служба может связываться с php службой с использованием имени хоста php. 
По умолчанию Docker Swarm включает разрешение DNS в оверлейной сети, позволяя контейнерам обнаруживать друг друга и взаимодействовать друг с другом, используя имена служб, определенные в docker-compose.yml файле. 

Что касаемо выбора одного решения над другим зависит от конкретных требований и ограничений вашего проекта.  Вот краткий обзор причин выбора тех или иных решений и потенциальных проблем, которые могут возникнуть при работе: 

    Использование режима swarm: 
        Причина: Docker Swarm предоставляет встроенные функции оркестрации и масштабируемости, что делает его подходящим для управления контейнерными приложениями в кластере машин.  Это упрощает развертывание, масштабирование и отказоустойчивость. 
        Проблемы: режим Swarm может внести некоторую сложность в настройку и настройку по сравнению с автономным Docker.  Обнаружение сетей и служб иногда может быть сложным, а устранение неполадок может быть более сложным в кластере Swarm. 

    Настройка лимитов для сервисов: 
        Причина: Установка ограничений на ресурсы, такие как ЦП и память, обеспечивает справедливое распределение и предотвращает монополизацию ресурсов одной службой, что приводит к повышению производительности и стабильности. 
        Проблемы: определение соответствующих лимитов ресурсов может оказаться сложной задачей.  Установка слишком низких пределов может повлиять на производительность приложения, а установка слишком высоких может привести к конфликту ресурсов и повлиять на другие службы на том же хосте. 

    Регистрация журналов проекта из контейнеров stdout: 
        Причина. Централизованное ведение журналов упрощает управление, мониторинг и анализ журналов приложений.  Захват журналов из stdout контейнеров гарантирует, что важная информация не будет потеряна. 
        Проблемы: выбор подходящего драйвера ведения журналов и настройка параметров ротации журналов требуют рассмотрения.  Масштабирование инфраструктуры ведения журналов для обработки больших объемов журналов и поддержание хранилища журналов также может быть проблемой. 

При реализации этих решений могут возникнуть некоторые распространенные проблемы, в том числе: 

    Проблемы совместимости. Обеспечение совместимости между различными версиями Docker, Docker Compose и целевой средой может быть сложной задачей. 
    Сложности сети: настройка и управление сетью между контейнерами и разными хостами иногда может быть сложной, особенно в режиме Swarm. 
    Отладка и устранение неполадок. Устранение неполадок в контейнерных средах может быть более сложным, чем традиционные настройки, требующим знакомства с инструментами и методами Docker. 



